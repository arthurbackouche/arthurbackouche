"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[451],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var o=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=o.createContext({}),s=function(e){var t=o.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=s(e.components);return o.createElement(u.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,u=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=s(n),m=a,h=d["".concat(u,".").concat(m)]||d[m]||p[m]||r;return n?o.createElement(h,i(i({ref:t},c),{},{components:n})):o.createElement(h,i({ref:t},c))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=m;var l={};for(var u in t)hasOwnProperty.call(t,u)&&(l[u]=t[u]);l.originalType=e,l[d]="string"==typeof e?e:a,i[1]=l;for(var s=2;s<r;s++)i[s]=n[s];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},8729:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>i,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>s});var o=n(7462),a=(n(7294),n(3905));const r={id:"copy-records-data-extension-to-data-extension-sql-marketing-cloud",title:"How to copy records from a Data extension to another DE with an SQL Query",description:"Transfer records from a Data Extension to another Data Extension with SQL",keywords:["Marketing Cloud","SFMC","Data Extension","DE","SQL","Automation Studio"]},i="How to copy records from a Data extension to another DE with an SQL Query",l={unversionedId:"SQL/copy-records-data-extension-to-data-extension-sql-marketing-cloud",id:"SQL/copy-records-data-extension-to-data-extension-sql-marketing-cloud",title:"How to copy records from a Data extension to another DE with an SQL Query",description:"Transfer records from a Data Extension to another Data Extension with SQL",source:"@site/docs/SQL/How to copy records from a Data extension to another DE with an SQL Query.md",sourceDirName:"SQL",slug:"/SQL/copy-records-data-extension-to-data-extension-sql-marketing-cloud",permalink:"/docs/SQL/copy-records-data-extension-to-data-extension-sql-marketing-cloud",draft:!1,editUrl:"https://github.com/arthurbackouche/arthurbackouche/docs/SQL/How to copy records from a Data extension to another DE with an SQL Query.md",tags:[],version:"current",frontMatter:{id:"copy-records-data-extension-to-data-extension-sql-marketing-cloud",title:"How to copy records from a Data extension to another DE with an SQL Query",description:"Transfer records from a Data Extension to another Data Extension with SQL",keywords:["Marketing Cloud","SFMC","Data Extension","DE","SQL","Automation Studio"]},sidebar:"tutorialSidebar",previous:{title:"How to format phone number in Mobile connect with SFMC",permalink:"/docs/SQL/format-phone-numbers-mobile-connect-marketing-cloud"},next:{title:"How to create a Data Extension that contains Unsubscribers",permalink:"/docs/SQL/create-data-extension-unsubscribers-marketing-cloud"}},u={},s=[{value:"Create an automation in Automation Studio.",id:"create-an-automation-in-automation-studio",level:2},{value:"Configure SQL Query in Automation Studio.",id:"configure-sql-query-in-automation-studio",level:2},{value:"Code the SQL Query.",id:"code-the-sql-query",level:2},{value:"Select a Target Data Extension.",id:"select-a-target-data-extension",level:2},{value:"Schedule and Save the Automation.",id:"schedule-and-save-the-automation",level:2},{value:"Test &amp; Activate the Automation.",id:"test--activate-the-automation",level:2}],c={toc:s};function d(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,o.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"how-to-copy-records-from-a-data-extension-to-another-de-with-an-sql-query"},"How to copy records from a Data extension to another DE with an SQL Query"),(0,a.kt)("p",null,"In SFMC we will need to create an Automation from ",(0,a.kt)("strong",{parentName:"p"},"Automation Studio")," and we will add it an ",(0,a.kt)("strong",{parentName:"p"},"SQL query")," to execute the action."),(0,a.kt)("h2",{id:"create-an-automation-in-automation-studio"},"Create an automation in Automation Studio."),(0,a.kt)("p",null,"The first step is to create an automation in Automation Studio. Automation Studio is an App within Marketing Cloud that allows user to automate multiple actions.\nIn my view Automation Studio is more complex than Journey Builder as somple knowledge in coding is required for most of the usecases. In Marketing Cloud Click ",(0,a.kt)("inlineCode",{parentName:"p"},"Journey Builder")," and then click ",(0,a.kt)("inlineCode",{parentName:"p"},"Automation Studio"),". Now that you are on the Workflow tab of Automation Studio, Drag and Drop the widget ",(0,a.kt)("inlineCode",{parentName:"p"},"SQL Query")," Activity on the Canvas, then click ",(0,a.kt)("inlineCode",{parentName:"p"},"Choose"),"."),(0,a.kt)("h2",{id:"configure-sql-query-in-automation-studio"},"Configure SQL Query in Automation Studio."),(0,a.kt)("p",null,"You are now on the pop-up ",(0,a.kt)("strong",{parentName:"p"},"Choose SQL Query Activity"),". Click on ",(0,a.kt)("inlineCode",{parentName:"p"},"Create a new Query Activity"),". Fill out the information requested in the properties section (name, external key, Folder Location, Description) then click ",(0,a.kt)("inlineCode",{parentName:"p"},"Next"),". I recommend to use the same Name and External Key to avoid confusion. You are now on the ",(0,a.kt)("strong",{parentName:"p"},"Query tab")," of the Pop-up, this is where you should add the SQL code needed to perform an action."),(0,a.kt)("h2",{id:"code-the-sql-query"},"Code the SQL Query."),(0,a.kt)("p",null,"You can add the ",(0,a.kt)("strong",{parentName:"p"},"SQL query")," below to the code editor in Automation Studion."),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"Please note that it is a generic query and you may have to modify it to achieve a specific usecase.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"SELECT\nFIRSTNAME AS FIRSTNAME, \nLASTNAME AS LASTNAME,\nEMAIL AS EMAIL,\nFROM YourDataExtension\n")),(0,a.kt)("p",null,"In this SQL Query we are selecting some columns of the original Data Extension (with ",(0,a.kt)("inlineCode",{parentName:"p"},"SELECT"),") and we are specifying in which columns of the target Data Extension we should push the data to (with ",(0,a.kt)("inlineCode",{parentName:"p"},"AS"),"). Finaly we mention to Marketing Cloud what is the original Data Extension (with ",(0,a.kt)("inlineCode",{parentName:"p"},"FROM"),")."),(0,a.kt)("p",null,"Once the SQL Query is added we can click on ",(0,a.kt)("inlineCode",{parentName:"p"},"Verify")," and SFMC will tell us if there is mistakes in the SQL piece of code. After that click ",(0,a.kt)("inlineCode",{parentName:"p"},"Next"),"."),(0,a.kt)("h2",{id:"select-a-target-data-extension"},"Select a Target Data Extension."),(0,a.kt)("p",null,"In the target Data Extension tab you can select a Target Data Extension. This is ",(0,a.kt)("strong",{parentName:"p"},"where the Data process by the SQL Query will be stored"),". After selecting the Target Data Extension of your choice you will have 3 different ways of storing the data: Append Update and Overwrite."),(0,a.kt)("p",null,"The most common choice is ",(0,a.kt)("strong",{parentName:"p"},"Append")," as it will simply add the new data from the SQL Query on top the existing data.\nIf you want to update the records within the Data Extension, you can choose the ",(0,a.kt)("strong",{parentName:"p"},"Update")," method. This method will update matching records or add new records if no matching records found.\nFinally the ",(0,a.kt)("strong",{parentName:"p"},"Overwrite")," option will clear the Data Extension and add the data proceed from the SQL query into it. Click ",(0,a.kt)("inlineCode",{parentName:"p"},"Next")," after validating the SQL Query."),(0,a.kt)("p",null,"You are now on the ",(0,a.kt)("strong",{parentName:"p"},"Summary tab"),". This is where you can quickly review the property of you Query, the Target Data Extension Selected and your SQL Query."),(0,a.kt)("p",null,"Click ",(0,a.kt)("inlineCode",{parentName:"p"},"Finish"),"."),(0,a.kt)("h2",{id:"schedule-and-save-the-automation"},"Schedule and Save the Automation."),(0,a.kt)("p",null,"Now that you are back on your ",(0,a.kt)("strong",{parentName:"p"},"Workflow Tab")," you can Drag and Drop a ",(0,a.kt)("strong",{parentName:"p"},"Starting Source")," to your Canvas. In in the scenario, we want to add the records from the orginal Data Extension to the Target Data Extension on a hourly basis so we will add the Starting Source ",(0,a.kt)("inlineCode",{parentName:"p"},"Schedule"),"."),(0,a.kt)("p",null,"Click ",(0,a.kt)("inlineCode",{parentName:"p"},"Configure"),". You can now add a starting date (must be in the Future), a Timezone and select the frequency of the automation. As mentionned, we would like to run the automation on an hourly basis undefinitely, so we can select Repeat Hourly every 1 Hour(s) and End Never."),(0,a.kt)("p",null,"Click ",(0,a.kt)("inlineCode",{parentName:"p"},"Done"),". You can save the Automation. A pop-up will appear, you can give a name, a description and an external key to the automation. You are also able to select the folder where to save it. Click ",(0,a.kt)("inlineCode",{parentName:"p"},"Save"),"."),(0,a.kt)("h2",{id:"test--activate-the-automation"},"Test & Activate the Automation."),(0,a.kt)("p",null,"To test your automation click on ",(0,a.kt)("inlineCode",{parentName:"p"},"Run Once")," then click on ",(0,a.kt)("inlineCode",{parentName:"p"},"Select All Activities")," and then click ",(0,a.kt)("inlineCode",{parentName:"p"},"Run"),". A Pop-up with information related to the upcoming test will appear. Click ",(0,a.kt)("inlineCode",{parentName:"p"},"Run Now"),"."),(0,a.kt)("p",null,"Now Click on the Tab ",(0,a.kt)("strong",{parentName:"p"},"Activity"),". You will be able to visualize the progression of the test. The Icon of the SQL Query Activity will blue while the process is running, Red if there is an error and Green if everything happened as expected. "),(0,a.kt)("p",null,"if your automation is working as expected you can now activate it. "),(0,a.kt)("iframe",{width:"100%",height:"444",src:"https://www.youtube.com/embed/imsIJYagxyI",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:!0}))}d.isMDXComponent=!0}}]);